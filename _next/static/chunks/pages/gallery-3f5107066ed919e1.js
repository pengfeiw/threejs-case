(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{965:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return e(1568)}])},1568:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return O}});var i=e(5893),o=e(7294),r=e(2212);function a(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(n,e){var i=void 0===n?1:n,o=void 0===e?0:e;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=i,this.b=o}var n,e,i;return n=t,(e=[{key:"getValue",value:function(t){return this.a*t+this.b}}])&&a(n.prototype,e),i&&a(n,i),t}();function s(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(n,e,i){var o=void 0===n?1:n,r=void 0===e?0:e,a=void 0===i?0:i;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=o,this.b=r,this.c=a}var n,e,i;return n=t,(e=[{key:"getValue",value:function(t){return this.a*t*t+this.b*t+this.c}}])&&s(n.prototype,e),i&&s(n,i),t}(),f=function(t,n,e){var i=void 0===n?0:n,o=void 0===e?1:e,r=new u,a=r.getValue(0),s=r.getValue(1),c=r.getValue(t);return c=c/(s-a)*(o-i)+i},l=function(t,n,e){var i=void 0===n?0:n,o=void 0===e?1:e,r=new c,a=r.getValue(0),u=r.getValue(1),s=r.getValue(t);return s=s/(u-a)*(o-i)+i},h=function(t,n,e,i){var o=void 0===n?0:n,r=void 0===e?1:e;switch(void 0===i?"LINEAR":i){case"LINEAR":return f(t,o,r);case"QUADRATIC":return l(t,o,r);default:return 0}};function v(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(t){var n={};for(var e in t)n[e]=t[e];return n},p=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.animatFunction="QUADRATIC",this._endState={},this._startState={},this._duration=1e3,this._start=!1,this._startTime=-1,this._object=n,e&&(this.animatFunction=e)}var n,e,i;return n=t,(e=[{key:"_endTime",get:function(){return this._startTime+this._duration}},{key:"state",get:function(){return this._object}},{key:"onUpdate",value:function(t){return this._onUpdateListener=t,this}},{key:"to",value:function(t,n){return this._endState=d(t),this._startState=d(this._object),n&&(this._duration=n),this._startTime=-1,this}},{key:"start",value:function(){this._start=!0}},{key:"stop",value:function(){this._startTime=-1,this._start=!1}},{key:"update",value:function(t){var n=void 0===t?Date.now():t;if(!this._start)return!1;if(-1===this._startTime)return this._startTime=n,!1;if(n>=this._endTime){for(var e in this._endState)this._object[e]=this._endState[e];return this._onUpdateListener&&this._onUpdateListener(this._object),this.stop(),!1}var i=n-this._startTime;for(var o in this._object){var r=this._startState[o],a=this._endState[o],u=h(i/this._duration,r,a,this.animatFunction);this._object[o]=u}return this._onUpdateListener&&this._onUpdateListener(this._object),!0}}])&&v(n.prototype,e),i&&v(n,i),t}();function y(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,n){return!n||"object"!==_(n)&&"function"!==typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function m(t,n){return(m=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var _=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function g(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,i=w(t);if(n){var o=w(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return b(this,e)}}var k=function(t){!function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&m(t,n)}(a,t);var n,e,i,o=g(a);function a(t,n,e,i){var r;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),(r=o.call(this,t,n,e,i))._inAnimation=!1,r.animatState={position:new p({x:0,y:0,z:0}),lookAt:new p({x:0,y:0,z:0})},r}return n=a,(e=[{key:"inAnimation",get:function(){return this._inAnimation}},{key:"to",value:function(t){var n=this;return this.animatState.position.to({x:t.x,y:t.y,z:t.z}).onUpdate((function(t){n.position.x=t.x,n.position.y=t.y,n.position.z=t.z})),this}},{key:"lookTo",value:function(t){var n=this,e=new r.Pa4(0,0,-1);e.applyQuaternion(this.quaternion);var i=this.position.clone().add(e);return this.animatState.lookAt=new p({x:i.x,y:i.y,z:i.z}),this.animatState.lookAt.to({x:t.x,y:t.y,z:t.z}).onUpdate((function(t){n.lookAt(new r.Pa4(t.x,t.y,t.z))})),this}},{key:"startAnimation",value:function(){var t,n;null===(t=this.animatState.position)||void 0===t||t.start(),null===(n=this.animatState.lookAt)||void 0===n||n.start()}},{key:"updateAnimation",value:function(t){var n,e,i=null===(n=this.animatState.position)||void 0===n?void 0:n.update(t),o=null===(e=this.animatState.lookAt)||void 0===e?void 0:e.update(t);return i||o}}])&&y(n.prototype,e),i&&y(n,i),a}(r.cPb);function j(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function P(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},i=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),i.forEach((function(n){j(t,n,e[n])}))}return t}var x=function(t){var n=new r.CP7({antialias:!0,canvas:t}),e=new r.xsS;e.background=new r.Ilk("#092133");var i=new r.iMs,o=new k(45,1,.1,1e4);o.rotation.order="XZY",o.position.set(0,0,0);var a=function(){var t=window.innerWidth/window.innerHeight;o.aspect=t,o.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)},u=function(t){n.render(e,o),o.updateAnimation(t),requestAnimationFrame(u)};!function(){for(var t,n=new r.lLk,i=new r.dpR(n),o=[],a=0;a<20;a++)o.push(new r.vBJ({map:i.load((t="/images/gallery/".concat(a+1,".jpg"),"/threejs-case"+t))}));n.onLoad=function(){for(var t=0;t<5;t++)for(var n=0;n<30;n++){var i=15*t-35+5,a=2*Math.PI/30*n,u=80*Math.sin(a),s=80*Math.cos(a),c=new r._12(10,10),f=o[Math.floor(20*Math.random())],l=new r.Kj0(c,f);l.position.set(u,i,s),l.lookAt(0,i,0),e.add(l)}}}(),a(),function(){var n=!1,u=!1,s=null,c=new r.Pa4,f={x:0,y:0},l={x:0,y:0},h=function(n){return{x:n.touches[0].pageX-t.offsetLeft,y:n.touches[0].pageY-t.offsetTop}},v=function(t,e){var i=t/window.innerWidth*2-1,o=-e/window.innerHeight*2+1;n=!0,f={x:i,y:o}},d=function(){if(n=!1,!u){i.setFromCamera(f,o);var t=i.intersectObjects(e.children);if(t.length>0&&s!==t[0].object.id){var a=t[0].object.position;c=(new r.Pa4).copy(t[0].object.position);var l=new r.Pa4(.8*a.x,a.y,.8*a.z);o.to(l).lookTo(a).startAnimation(),s=t[0].object.id}null!==s&&0===t.length&&(o.to(new r.Pa4(0,0,0)).lookTo(new r.Pa4(c.x,0,c.z)).startAnimation(),s=null)}u=!1},p=function(t){n&&(u=!0,null===s&&(o.rotation.y+=.001*t))};window.addEventListener("mousedown",(function(t){t.preventDefault(),v(t.offsetX,t.offsetY)})),window.addEventListener("mouseup",(function(t){t.preventDefault(),d()})),window.addEventListener("mousemove",(function(t){t.preventDefault(),p(t.movementX)})),window.addEventListener("touchstart",(function(t){t.cancelable&&t.preventDefault();var n=h(t);l=P({},n),v(n.x,n.y)})),window.addEventListener("touchmove",(function(t){t.cancelable&&t.preventDefault();var n=h(t);p(n.x-l.x),l=P({},n)})),window.addEventListener("touchend",(function(t){t.cancelable&&t.preventDefault(),d()})),window.addEventListener("resize",a)}(),requestAnimationFrame(u)},O=function(){var t=(0,o.useRef)(null);return(0,o.useEffect)((function(){var n=t.current;n&&x(n)}),[t]),(0,i.jsx)("canvas",{ref:t})}}},function(t){t.O(0,[737,774,888,179],(function(){return n=965,t(t.s=n);var n}));var n=t.O();_N_E=n}]);