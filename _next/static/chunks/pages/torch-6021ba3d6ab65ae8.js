(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[604],{754:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/torch",function(){return n(7334)}])},2386:function(t,e,n){"use strict";var i=n(5893),r=n(7294);e.Z=function(t){var e=t.init,n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var t=n.current;t&&e(t)}),[n]),(0,i.jsx)("canvas",{ref:n})}},2500:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,{Z:function(){return h}});var r=function(){function t(e,n){var i=void 0===e?1:e,r=void 0===n?0:n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=i,this.b=r}var e,n,r;return e=t,(n=[{key:"getValue",value:function(t){return this.a*t+this.b}}])&&i(e.prototype,n),r&&i(e,r),t}();function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(e,n,i){var r=void 0===e?1:e,o=void 0===n?0:n,a=void 0===i?0:i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=r,this.b=o,this.c=a}var e,n,i;return e=t,(n=[{key:"getValue",value:function(t){return this.a*t*t+this.b*t+this.c}}])&&o(e.prototype,n),i&&o(e,i),t}(),s=function(t,e,n){var i=void 0===e?0:e,o=void 0===n?1:n,a=new r,s=a.getValue(0),u=a.getValue(1),c=a.getValue(t);return c=c/(u-s)*(o-i)+i},u=function(t,e,n){var i=void 0===e?0:e,r=void 0===n?1:n,o=new a,s=o.getValue(0),u=o.getValue(1),c=o.getValue(t);return c=c/(u-s)*(r-i)+i},c=function(t,e,n,i){var r=void 0===e?0:e,o=void 0===n?1:n;switch(void 0===i?"LINEAR":i){case"LINEAR":return s(t,r,o);case"QUADRATIC":return u(t,r,o);default:return 0}};function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(t){var e={};for(var n in t)e[n]=t[n];return e},h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.animatFunction="QUADRATIC",this._endState={},this._startState={},this._duration=1e3,this._start=!1,this._end=!1,this._startTime=-1,this._object=e,n&&(this.animatFunction=n)}var e,n,i;return e=t,(n=[{key:"_endTime",get:function(){return this._startTime+this._duration}},{key:"state",get:function(){return this._object}},{key:"isStart",get:function(){return this._start}},{key:"isEnd",get:function(){return this._end}},{key:"onUpdate",value:function(t){return this._onUpdateListener=t,this}},{key:"onEnd",value:function(t,e){var n=void 0===e||e,i=this;return this._onEndListener=function(e){n&&(i._onEndListener=void 0),t(e)},this}},{key:"to",value:function(t,e){return this._endState=l(t),this._startState=l(this._object),e&&(this._duration=e),this._startTime=-1,this}},{key:"start",value:function(){this._start=!0,this._end=!1}},{key:"stop",value:function(){this._startTime=-1,this._start=!1,this._end=!0}},{key:"update",value:function(t){var e=void 0===t?Date.now():t;if(!this._start)return!1;if(-1===this._startTime)return this._startTime=e,!1;if(e>=this._endTime){for(var n in this._endState)this._object[n]=this._endState[n];return this._onUpdateListener&&this._onUpdateListener(this._object),this.stop(),this._onEndListener&&this._onEndListener(this._object),!1}var i=e-this._startTime;for(var r in this._object){var o=this._startState[r],a=this._endState[r],s=c(i/this._duration,o,a,this.animatFunction);this._object[r]=s}return this._onUpdateListener&&this._onUpdateListener(this._object),!0}}])&&f(e.prototype,n),i&&f(e,i),t}()},5249:function(t,e,n){"use strict";var i=n(2212);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=o(t);if(e){var r=o(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a(this,n)}}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(u,t);var e,n,o,a=c(u);function u(t,e,n,r){var o,s=void 0!==n&&n,c=void 0!==r&&r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=a.call(this)).geometry=new i.u9r,o.material=new i.jyz({vertexShader:t,fragmentShader:e,blending:i.WMw,depthWrite:c,transparent:s}),o}return e=u,(n=[{key:"setAttributes",value:function(t,e){this.geometry.setAttribute(t,e)}},{key:"setUniforms",value:function(t,e){this.material.uniforms[t]=e}}])&&r(e.prototype,n),o&&r(e,o),u}(i.woe);e.Z=f},7456:function(t,e,n){"use strict";n.d(e,{S:function(){return i}});var i=function(t,e){var n=window.innerWidth/window.innerHeight;t.aspect=n,t.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight),e.setPixelRatio(window.devicePixelRatio)}},7334:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return O}});var i=n(5893),r=n(2212),o=n(5249),a=n(7456),s=n(600),u=n(2500);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f,l,h,v,d,p=function(){function t(e,n,i){var o=void 0===e?new r.Pa4:e,a=void 0===n?1:n,s=void 0===i?1:i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._position={x:0,y:0,z:0},this._opacity={value:a},this._position={x:o.x,y:o.y,z:o.z},this._size={value:s},this._animatState={position:new u.Z(this.position,"LINEAR"),opacity:new u.Z(this._opacity,"LINEAR"),size:new u.Z(this._size,"LINEAR")}}var e,n,i;return e=t,(n=[{key:"position",get:function(){return this._position}},{key:"opacity",get:function(){return this._opacity}},{key:"size",get:function(){return this._size}},{key:"isStart",get:function(){return this._animatState.position.isStart||this._animatState.opacity.isStart||this._animatState.size.isStart}},{key:"isEnd",get:function(){return this._animatState.position.isEnd&&this._animatState.opacity.isEnd&&this._animatState.size.isEnd}},{key:"to",value:function(t,e){var n=void 0===e?1e3:e;return this._animatState.position.to({x:t.x,y:t.y,z:t.z},n),this}},{key:"opacityTo",value:function(t,e){var n=void 0===e?1e3:e;return this._animatState.opacity.to({value:t},n),this}},{key:"sizeTo",value:function(t,e){var n=void 0===e?1e3:e;return this._animatState.size.to({value:t},n),this}},{key:"startAnimation",value:function(){this._animatState.position.start(),this._animatState.opacity.start(),this._animatState.size.start()}},{key:"updateAnimation",value:function(t){var e=this._animatState.position.update(t),n=this._animatState.size.update(t),i=this._animatState.opacity.update(t);return e||n||i}}])&&c(e.prototype,n),i&&c(e,i),t}(),y=n(9365),_=n(9892),w=5e3,m=new r.ZAu,b=new r.dpR,g=[],S=new Float32Array(15e3),k=new Float32Array(w),z=new Float32Array(w),E=function(t){requestAnimationFrame(E),T(t),f.render(h,l)},P=function(){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=200,t.height=200;var n=e.createRadialGradient(100,100,20,100,100,100);return n.addColorStop(.2,"rgba(255, 255, 255, 1)"),n.addColorStop(.8,"rgba(255, 255, 255, 0.7)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=n,e.ellipse(100,100,100,100,0,0,2*Math.PI),e.fill(),new r.ROQ(t)},j=function(){var t=s.Iy(0,360)/180*Math.PI,e=s.Iy(-45,90)/180*Math.PI,n=s.Iy(0,50),i=s.M7(t,e,n);return new p(i,Math.random(),s.Iy(5,50))},T=function(t){for(var e=0;e<g.length;e++){var n=g[e];if(n.isStart)n.updateAnimation(t),S[3*e+0]=n.position.x,S[3*e+1]=n.position.y,S[3*e+2]=n.position.z,k[e]=n.opacity.value,z[e]=n.size.value;else if(n.isEnd)g[e]=j();else{var i=s.Iy(0,360)/180*Math.PI,o=s.Iy(45,90)/180*Math.PI,a=s.Iy(0,200),u=s.M7(i,o,a),c=s.Iy(2e3,5e3);n.to(new r.Pa4(n.position.x+u.x,n.position.y+u.y,n.position.z+u.z),c).sizeTo(.5*n.size.value,c).opacityTo(0,c).startAnimation()}}v.geometry.attributes.position.needsUpdate=!0,v.geometry.attributes.size.needsUpdate=!0,v.geometry.attributes.opacity.needsUpdate=!0},x=function(){m.add(function(){for(var t=0;t<w;t++)S[3*t+0]=g[t].position.x,S[3*t+1]=g[t].position.y,S[3*t+2]=g[t].position.z,k[t]=g[t].opacity.value,z[t]=g[t].size.value;return(v=new o.Z("#define GLSLIFY 1\nattribute float size;\nattribute float opacity;\n\nvarying float vOpacity;\n\nvoid main() {\n    vOpacity = opacity;\n    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n    gl_PointSize = size * (300.0 / -mvPosition.z);\n    gl_Position = projectionMatrix * mvPosition;\n}\n","#define GLSLIFY 1\nuniform sampler2D pointTexture;\nuniform vec3 color;\n\nvarying float vOpacity;\n\nvoid main() {\n    gl_FragColor = vec4(color, vOpacity);\n    gl_FragColor = gl_FragColor * texture2D(pointTexture, gl_PointCoord);\n}\n",!0,!1)).setAttributes("position",new r.TlE(S,3)),v.setAttributes("opacity",new r.TlE(k,1)),v.setAttributes("size",new r.TlE(z,1)),v.setUniforms("pointTexture",{value:P()}),v.setUniforms("color",{value:new r.Ilk("#f87510")}),v}());var t=function(){var t=new r.m_w(10,10,120),e=new r.vBJ({map:b.load((0,_.w)("/images/torch/wood.jpg"))});return new r.Kj0(t,e)}();t.position.set(0,-50,0),m.add(t),h.add(m)},A=function(t){f=new r.CP7({antialias:!0,canvas:t}),(l=new r.cPb(45,1,.1,5e3)).position.set(0,0,600);var e=new y.z(l,t);e.enableZoom=!1,e.update(),h=new r.xsS,function(){var t=new r.pQR(1500,1),e=new r.xoR({color:16777215,flatShading:!0,side:r._Li});h.add(new r.Kj0(t,e))}(),d=new r.cek(16737792,1,1800,1),h.add(d),function(){for(var t=0;t<w;t++){var e=j();g.push(e)}}(),x(),(0,a.S)(l,f),window.addEventListener("resize",(function(){return(0,a.S)(l,f)})),requestAnimationFrame(E)},I=n(2386),O=function(){return(0,i.jsx)(I.Z,{init:A})}},9892:function(t,e,n){"use strict";n.d(e,{w:function(){return i}});var i=function(t){return"/threejs-case"+t}},600:function(t,e,n){"use strict";n.d(e,{Iy:function(){return r},M7:function(){return o}});var i=n(2212),r=function(t,e){var n=Math.floor(t),i=Math.floor(e);return Math.floor(Math.random()*(i-n))+n},o=function(t,e,n){var r=Math.sin(e)*n,o=Math.cos(e)*n,a=Math.cos(t)*o,s=Math.sin(t)*o;return new i.Pa4(a,r,s)}}},function(t){t.O(0,[737,365,774,888,179],(function(){return e=754,t(t.s=e);var e}));var e=t.O();_N_E=e}]);